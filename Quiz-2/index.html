<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz 2</title>
  <style>
    li {
        margin-top: 15px;
    }
</style>

</head>
<body>
    <div id="app">
        <form>
            <input type="text" v-model="name"></input>
            <button @click="addUser">{{ buttonTxt }}</button>
        </form>
        <ul>
            <li v-for="(user, index) in users"> {{ user.name }} 
                <button @click="delUser(index)">Delete</button> || 
                <button @click="editUser(user.name, index)">Edit</button>
            </li>
        </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script>

        var vm = new Vue({
            el: '#app',
            data: {
                name: "",
                id : null,
                users: [
                    {
                        'name' : 'Muhammad Iqbal Mubarok'
                    },
                    {
                        'name' : 'Ruby Purwanti'
                    },
                    {
                        'name' : 'Faqih Muhammad'
                    }
                ],
                buttonTxt: "Add"
            },
            methods : {
                addUser: function(e){
                    if (this.buttonTxt == "Add") {
                        if(this.name !== "") {
                            this.users.push(
                            { name: this.name })
                        }
                    } else if (this.buttonTxt == "Update") {
                        this.users[this.id].name = this.name
                        this.buttonTxt = "Add"
                    }
                    this.name = ""
                    e.preventDefault()
                },
                editUser: function(user, index) {
                    this.name = user
                    this.buttonTxt = "Update"
                    this.id = index
                },
                delUser: function(index) {
                    this.users.splice(index, 1);
                }
            }
        })
  </script>
</body>
</html>
